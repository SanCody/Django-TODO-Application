<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <script src="{% static 'bootstrap/js/jquery.min.js' %}"></script>
    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">
    <script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'fontawesome/css/all.min.css' %}">
</head>
<style>
</style>
<body class="bg-dark">
    {% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" id="alertM" role="alert">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}
        <div class="container my-5" style="width: 440px;">
            <h2 class="text-center" style="color: #fff855;">TODO</h2>
            
            <form method="post" class="shadow-lg p-3 mb-5 bg-white rounded">
                <h4 class="text-center">Log In</h4>
                {% csrf_token %}
                <div class="from-group">
                    {{ form.username.label_tag }}
                    {{ form.username }}
                </div><br>
                <div class="from-group">
                    {{ form.password.label_tag }}
                    <div class="input-group">
                    {{ form.password }}
                    <div class="input-group-append" role="button">
                        <span class="input-group-text password-toggle-icon" id="password-toggle">
                            <i class="fa fa-eye-slash" ></i>
                        </span>
                    </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block mt-4">Login</button>
                <br>
                <p class="text-center">Create a new <a href="{% url 'signup' %}">Account</a>?</p>
            </form>
        </div> 

<script>
    const passwordField = document.getElementById('id_password');
    const passwordToggle = document.getElementById('password-toggle');

    passwordToggle.addEventListener('click', function () {
        if (passwordField.type === 'password') {
        passwordField.type = 'text';
        passwordToggle.innerHTML = '<i class="fa fa-eye" aria-hidden="true"></i>';
        } else {
        passwordField.type = 'password';
        passwordToggle.innerHTML = '<i class="fa fa-eye-slash" aria-hidden="true"></i>';
        }
    });
    </script>
    <script>
        window.setTimeout(function() {
            $("#alertM").slideUp(500, function() {
                $(this).remove();
            });
        }, 2000);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</body>
</html>